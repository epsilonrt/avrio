<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>AvrIO: Liaison série asynchrone logicielle</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="avrio.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">AvrIO
   &#160;<span id="projectnumber">v0.33-38-g77c05c8</span>
   </div>
   <div id="projectbrief">Bibliothèque C modulaire pour ATMEL AVR</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Généré par Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Recherche');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Page&#160;principale</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Structures&#160;de&#160;données</span></a></li>
      <li><a href="examples.html"><span>Exemples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Recherche" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('a00296.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>Tout</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Structures de données</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Fonctions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Définitions de type</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Énumérations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Valeurs énumérées</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groupes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Fonctions</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Liaison série asynchrone logicielle<div class="ingroups"><a class="el" href="a00224.html">Modules d'entrées/sorties</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Description détaillée</h2>
<p>Ce module permet de gérer la communication sur une liaison série asynchrone à l'aide d'une borche d'interruption externe et d'un timer 8 bits. La transmission s'effectue sur un fil de port quelconque mais la réception doit se faire sur une broche d'interruption (INTX) sur front descendant Il n'est pas possible de faire du FULL DUPLEX ! </p>
<div class="dynheader">
Graphe de collaboration de Liaison série asynchrone logicielle:</div>
<div class="dyncontent">
<center><table><tr><td><img src="a00296.png" border="0" alt="" usemap="#a00296"/>
<map name="a00296" id="a00296">
<area shape="rect" id="node1" href="a00224.html" title="Modules d&#39;entrées\l/sorties" alt="" coords="6,5,133,46"/></map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Fonctions</h2></td></tr>
<tr class="memitem:gaf4d1d9fa7822f3190d4a6457cb5da1f8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00296.html#gaf4d1d9fa7822f3190d4a6457cb5da1f8">iSerialSwGetChar</a> (void)</td></tr>
<tr class="memdesc:gaf4d1d9fa7822f3190d4a6457cb5da1f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reçoit un caractère sur la liaison série.  <a href="#gaf4d1d9fa7822f3190d4a6457cb5da1f8">Plus de détails...</a><br/></td></tr>
<tr class="separator:gaf4d1d9fa7822f3190d4a6457cb5da1f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gace7f682e17fc2e1b77c93dbc8dd28895"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gace7f682e17fc2e1b77c93dbc8dd28895"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00296.html#gace7f682e17fc2e1b77c93dbc8dd28895">ucSerialSwGetFlags</a> (void)</td></tr>
<tr class="memdesc:gace7f682e17fc2e1b77c93dbc8dd28895"><td class="mdescLeft">&#160;</td><td class="mdescRight">Renvoie les drapeaux de l'uart. <br/></td></tr>
<tr class="separator:gace7f682e17fc2e1b77c93dbc8dd28895"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga14b47447403c9249cd7950d1655455d4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga14b47447403c9249cd7950d1655455d4"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00296.html#ga14b47447403c9249cd7950d1655455d4">usSerialSwHit</a> (void)</td></tr>
<tr class="memdesc:ga14b47447403c9249cd7950d1655455d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Renvoie le nombre de caractères reçus. <br/></td></tr>
<tr class="separator:ga14b47447403c9249cd7950d1655455d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4fbd5dbe85167948157a2daf7d55304e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga4fbd5dbe85167948157a2daf7d55304e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00296.html#ga4fbd5dbe85167948157a2daf7d55304e">vSerialSwDisable</a> (void)</td></tr>
<tr class="memdesc:ga4fbd5dbe85167948157a2daf7d55304e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Valide l'uart. <br/></td></tr>
<tr class="separator:ga4fbd5dbe85167948157a2daf7d55304e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3b8c0767fa5801733c4d7b68f0c1d680"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga3b8c0767fa5801733c4d7b68f0c1d680"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00296.html#ga3b8c0767fa5801733c4d7b68f0c1d680">vSerialSwEnable</a> (void)</td></tr>
<tr class="memdesc:ga3b8c0767fa5801733c4d7b68f0c1d680"><td class="mdescLeft">&#160;</td><td class="mdescRight">Valide l'uart. <br/></td></tr>
<tr class="separator:ga3b8c0767fa5801733c4d7b68f0c1d680"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad2928df4e8e46784bb49cfdcab797a4c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gad2928df4e8e46784bb49cfdcab797a4c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00296.html#gad2928df4e8e46784bb49cfdcab797a4c">vSerialSwInit</a> (void)</td></tr>
<tr class="memdesc:gad2928df4e8e46784bb49cfdcab797a4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise l'SERIAL. <br/></td></tr>
<tr class="separator:gad2928df4e8e46784bb49cfdcab797a4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga81692015c3f638d907eeb8972509b335"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00296.html#ga81692015c3f638d907eeb8972509b335">vSerialSwPutChar</a> (char c)</td></tr>
<tr class="memdesc:ga81692015c3f638d907eeb8972509b335"><td class="mdescLeft">&#160;</td><td class="mdescRight">Envoie un caractère sur la liaison série.  <a href="#ga81692015c3f638d907eeb8972509b335">Plus de détails...</a><br/></td></tr>
<tr class="separator:ga81692015c3f638d907eeb8972509b335"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaac980c601c9a0c226f68921e761ced44"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00296.html#gaac980c601c9a0c226f68921e761ced44">vSerialSwPutString</a> (const char *pcString)</td></tr>
<tr class="memdesc:gaac980c601c9a0c226f68921e761ced44"><td class="mdescLeft">&#160;</td><td class="mdescRight">Envoie une chaîne caractères sur la liaison série.  <a href="#gaac980c601c9a0c226f68921e761ced44">Plus de détails...</a><br/></td></tr>
<tr class="separator:gaac980c601c9a0c226f68921e761ced44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3838d50eed007c752eaec78fe79c2c75"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00296.html#ga3838d50eed007c752eaec78fe79c2c75">xSerialSwReady</a> (void)</td></tr>
<tr class="separator:ga3838d50eed007c752eaec78fe79c2c75"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gaee0c72e5be444223ea1139e5e56b0010"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaee0c72e5be444223ea1139e5e56b0010"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00296.html#gaee0c72e5be444223ea1139e5e56b0010">SERIAL_SW_FRAME_ERROR</a>&#160;&#160;&#160;7</td></tr>
<tr class="memdesc:gaee0c72e5be444223ea1139e5e56b0010"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set if a frame error has occured. <br/></td></tr>
<tr class="separator:gaee0c72e5be444223ea1139e5e56b0010"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1c3b7a60f1273aa9c7185397aaaac24c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga1c3b7a60f1273aa9c7185397aaaac24c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00296.html#ga1c3b7a60f1273aa9c7185397aaaac24c">SERIAL_SW_RX_BUFFER_FULL</a>&#160;&#160;&#160;5</td></tr>
<tr class="memdesc:ga1c3b7a60f1273aa9c7185397aaaac24c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set if data is ready to be received from the Rx buffer. <br/></td></tr>
<tr class="separator:ga1c3b7a60f1273aa9c7185397aaaac24c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafeb99330c72767328c390ccdee27fd66"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gafeb99330c72767328c390ccdee27fd66"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00296.html#gafeb99330c72767328c390ccdee27fd66">SERIAL_SW_RX_BUFFER_OVERFLOW</a>&#160;&#160;&#160;6</td></tr>
<tr class="memdesc:gafeb99330c72767328c390ccdee27fd66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set if receive buffer is overflowed. Indicates data loss. <br/></td></tr>
<tr class="separator:gafeb99330c72767328c390ccdee27fd66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa72349daa44d307aeea6515212c4cd5d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaa72349daa44d307aeea6515212c4cd5d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00296.html#gaa72349daa44d307aeea6515212c4cd5d">SERIAL_SW_TX_BUFFER_FULL</a>&#160;&#160;&#160;4</td></tr>
<tr class="memdesc:gaa72349daa44d307aeea6515212c4cd5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set if data is ready to be sent from the Tx buffer. <br/></td></tr>
<tr class="separator:gaa72349daa44d307aeea6515212c4cd5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga984c40c9f199f1c4831c260ed61c517a"><td class="memItemLeft" align="right" valign="top">FILE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00296.html#ga984c40c9f199f1c4831c260ed61c517a">xSerialSwPort</a></td></tr>
<tr class="memdesc:ga984c40c9f199f1c4831c260ed61c517a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Descripteur de fichier de l'uart permettant son utilisation avec les fonctions de la libc.  <a href="#ga984c40c9f199f1c4831c260ed61c517a">Plus de détails...</a><br/></td></tr>
<tr class="separator:ga984c40c9f199f1c4831c260ed61c517a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Documentation des fonctions</h2>
<a class="anchor" id="gaf4d1d9fa7822f3190d4a6457cb5da1f8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iSerialSwGetChar </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reçoit un caractère sur la liaison série. </p>
<dl class="section return"><dt>Renvoie</dt><dd>le caractère ou _FDEV_EOF </dd></dl>

</div>
</div>
<a class="anchor" id="ga81692015c3f638d907eeb8972509b335"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vSerialSwPutChar </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Envoie un caractère sur la liaison série. </p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>caractère </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaac980c601c9a0c226f68921e761ced44"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vSerialSwPutString </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pcString</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Envoie une chaîne caractères sur la liaison série. </p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">pcString</td><td>chaîne caractères </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga3838d50eed007c752eaec78fe79c2c75"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool xSerialSwReady </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Renvoie l'état de l'uart (true si la transmission est possible, false sinon) </p>

</div>
</div>
<h2 class="groupheader">Documentation des variables</h2>
<a class="anchor" id="ga984c40c9f199f1c4831c260ed61c517a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FILE xSerialSwPort</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Descripteur de fichier de l'uart permettant son utilisation avec les fonctions de la libc. </p>
<p>Pour utiliser l'uart comme entrée et sortie par défaut, on mettra au début du main() : </p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">void</span>) {</div>
<div class="line">  <a class="code" href="a00296.html#gad2928df4e8e46784bb49cfdcab797a4c">vSerialSwInit</a> ();</div>
<div class="line">  stdout = &amp;<a class="code" href="a00296.html#ga984c40c9f199f1c4831c260ed61c517a">xSerialSwPort</a>;</div>
<div class="line">  stdin  = &amp;<a class="code" href="a00296.html#ga984c40c9f199f1c4831c260ed61c517a">xSerialSwPort</a>;</div>
<div class="line">...</div>
</div><!-- fragment --><p> On pourra dans le cas contraire passer &amp;xSerialSwPort au fonction fprintf, fscanf : </p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> choix;</div>
<div class="line">...</div>
<div class="line">fprintf (&amp;<a class="code" href="a00296.html#ga984c40c9f199f1c4831c260ed61c517a">xSerialSwPort</a>, <span class="stringliteral">&quot;Choix ? &quot;</span>);</div>
<div class="line">fscanf (&amp;<a class="code" href="a00296.html#ga984c40c9f199f1c4831c260ed61c517a">xSerialSwPort</a>, <span class="stringliteral">&quot;%d&quot;</span>, &amp;choix);</div>
<div class="line">...</div>
</div><!-- fragment --> 
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Généré le Samedi 17 Janvier 2015 10:08:37 pour AvrIO par
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
